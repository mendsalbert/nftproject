(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{32519:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return r(99246)}])},99246:function(e,t,r){"use strict";r.r(t);var a=r(34051),n=r.n(a),s=r(85893),i=r(67294),c=(r(73372),r(35553)),o=r(62370),l=r(86501),d=r(93554),u=r(86983),h=r(48764).Buffer;function p(e,t,r,a,n,s,i){try{var c=e[s](i),o=c.value}catch(l){return void r(l)}c.done?t(o):Promise.resolve(o).then(a,n)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var s=e.apply(t,r);function i(e){p(s,a,n,i,c,"next",e)}function c(e){p(s,a,n,i,c,"throw",e)}i(void 0)}))}}t.default=function(){var e=(0,i.useContext)(u.V),t=(e.address,e.signer),a=(e.contract,e.provider,e.chainId,e.connect);console.log("signer",t);var p="Basic "+h.from("2DB3mQQJtzIC03GYarET8tFZJIm:0dedd8064ff788414096e72cc7e3f4a1").toString("base64"),f=r(14400);console.log(p);var m=f.create({host:"ipfs.infura.io",port:5001,protocol:"https",apiPath:"/api/v0",headers:{authorization:p}}),v=(0,i.useState)(!1),g=v[0],j=v[1],b=(0,i.useState)(""),k=b[0],w=b[1],y=(0,i.useState)(""),N=(y[0],y[1]),C=(0,i.useState)(""),S=(C[0],C[1]),_=(0,i.useState)(!1),P=_[0],E=(_[1],(0,i.useState)(!1)),T=(E[0],E[1],(0,i.useState)(!1)),F=(T[0],T[1]),z=(0,i.useState)(""),I=z[0],Z=z[1],q=(0,i.useState)(""),B=q[0],M=q[1],X=(0,i.useState)(""),D=X[0],J=X[1];function L(){return(L=x(n().mark((function e(t){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),r=t.target.files[0],e.prev=2,e.next=5,m.add(r,{progress:function(e){return console.log("received: ".concat(e))}});case 5:a=e.sent,s="https://infura-ipfs.io/ipfs/".concat(a.path),console.log(s),w(s),j(!1),N(r.name),S(r.size),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Error uploading file: ",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}var O=function(){var e=x(n().mark((function e(){var r,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),console.log(D),console.log(I),console.log(B),""!=D&&""!=I&&""!=B){e.next=7;break}return alert("all fields required"),e.abrupt("return");case 7:return r=c.vz(null===B||void 0===B?void 0:B.toString(),"ether"),e.next=10,null===t||void 0===t?void 0:t.getListingPrice();case 10:return a=null===(a=e.sent)||void 0===a?void 0:a.toString(),e.next=14,null===t||void 0===t?void 0:t.createToken(k,r,I,D,k,{value:a});case 14:return s=e.sent,e.next=17,null===s||void 0===s?void 0:s.wait();case 17:j(!1),F(!0),J(""),M(""),Z(""),w(""),n="NFT Created Successfully",l.ZP.success(n,{style:{borderRadius:"10px",background:"#333",color:"#fff"}});case 24:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){a()}),[]),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.Z,{title:"Create || Xhibiter | NFT Marketplace Next.js Template"}),(0,s.jsxs)("section",{className:"relative py-24",children:[(0,s.jsx)("picture",{className:"pointer-events-none absolute inset-0 -z-10 dark:hidden",children:(0,s.jsx)("img",{src:"/images/gradient_light.jpg",alt:"gradient",className:"h-full w-full"})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"font-display text-jacarta-700 py-16 text-center text-4xl font-medium dark:text-white",children:"Create"}),(0,s.jsx)("button",{onClick:function(){a()},children:"connect"}),(0,s.jsxs)("div",{className:"mx-auto max-w-[48.125rem]",children:[(0,s.jsx)("div",{className:"mb-6"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{htmlFor:"item-name",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:["Name",(0,s.jsx)("span",{className:"text-red",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:I,onChange:function(e){Z(e.target.value)},id:"item-name",className:"dark:bg-jacarta-700 border-jacarta-100 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",placeholder:"Item name",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{htmlFor:"item-name",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:["Price",(0,s.jsx)("span",{className:"text-red",children:"*"})]}),(0,s.jsx)("input",{value:B,onChange:function(e){M(e.target.value)},type:"number",id:"item-name",className:"dark:bg-jacarta-700 border-jacarta-100 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",placeholder:"Item name",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"item-description",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:"Description"}),(0,s.jsxs)("p",{className:"dark:text-jacarta-300 text-2xs mb-3",children:["The description will be included on the ","item's"," detail page underneath its image. Markdown syntax is supported."]}),(0,s.jsx)("textarea",{value:D,onChange:function(e){J(e.target.value)},id:"item-description",className:"dark:bg-jacarta-700 border-jacarta-100 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",rows:"4",required:!0,placeholder:"Provide a detailed description of your item."})]}),(0,s.jsx)("div",{class:"max-w-full mb-6",children:(0,s.jsxs)("label",{class:"flex justify-center w-full h-32 px-4 transition bg-white dark:bg-[#13173f] border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none",children:[(0,s.jsxs)("span",{class:"flex items-center space-x-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("span",{class:"font-medium text-gray-600",children:"Click here to select file"})]}),(0,s.jsx)("input",{type:"file",name:"file_upload",class:"hidden",onChange:function(e){return L.apply(this,arguments)}})]})}),g?(0,s.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,s.jsx)(o.ZP,{indeterminated:!0,value:50,color:"secondary",status:"secondary"})}):"",k&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:function(){O()},className:"bg-accent-lighter cursor-pointer rounded-full py-3 px-8 text-center font-semibold text-white transition-all",children:"Upload"})}),P?(0,s.jsx)(o.ZP,{indeterminated:!0,value:50,color:"primary",status:"primary"}):""]})]})]})]})}},42611:function(){}},function(e){e.O(0,[979,774,888,179],(function(){return t=32519,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=create-f7d6af00f3b20e95.js.map